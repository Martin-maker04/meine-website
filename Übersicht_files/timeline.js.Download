            function Timeline(cont) {
                const H_GAP = 30;
                const V_GAP = 20;
                const TIMELINE_WIDTH = 9;
                const SWITCH_TO_ONE_COL = 500;

                // Internal variables
                let _tlc_top = 0;
                let _tlc_left = 0;

                let _status = [0, 0];
                let _pos = [[], []];

                let _width = 0;
                let _start = [0, 0];

                let _cw = 0;
                let _calc_height = 0;

                // public

                const container = cont;

                function precalculateAllCols() {
                    _tlc_top = $(container).position().top;
                    _tlc_left = $(container).position().left;

                    _status = [_tlc_top, _tlc_top];
                    _pos = [[],[]];

                    _width = $(container).width();
                    
                }
                
                function precalculateTwoCols() {
                    precalculateAllCols();
                    _start = [_tlc_left, _tlc_left+ ((_width + H_GAP) / 2)];
                    _cw = (_width - H_GAP) / 2;                    
                }                           
                
                function precalculateOneCol() {
                    precalculateAllCols();
                    _start = [_tlc_left, _tlc_left];
                    _cw = _width;            
                }
                
                function doLayoutTwoCols() {
                    let ny = 0;
                    $(".timeline_element").each(function (i) {                    
                       $(this).css("width", _cw + "px");
                        const ch = $(this).outerHeight() + V_GAP;

                        if (_status[0] > _status[1]) {  // right
                           ny = Math.max(_status[1]-_tlc_top+2*V_GAP, ny + V_GAP);
                           _pos[1].push(ny);
                           $(this).css("left", _start[1] + "px");                       
                           $(this).css("top", _status[1] + "px");
                           _status[1] += ch;
                       } else { // left
                           ny = Math.max(_status[0]-_tlc_top+V_GAP, ny + V_GAP);
                           _pos[0].push(ny);
                           $(this).css("left", _start[0] + "px");
                           $(this).css("top", _status[0] + "px");
                           _status[0] += ch;
                       }
                       //console.log("ny: "+ny);
                   });                    
                }
                
                function doLayoutOneCol() {
                    $(".timeline_element").each(function (i) {                    
                       $(this).css("width", _cw + "px");
                        const ch = $(this).outerHeight() + V_GAP;

                        _pos[0].push(_status[0]-_tlc_top+V_GAP);
                        $(this).css("left", _start[0] + "px");
                        $(this).css("top", _status[0] + "px");
                        _status[0] += ch;

                   });                    
                    
                }
                
                function createTimeLine() {
                    $(".timeline_line").css("top",_tlc_top+"px");
                    $(".timeline_line").css("left",_tlc_left+(_width/2)-(TIMELINE_WIDTH/2)+"px");

                    const mid_x = (_width / 2);
                    let res = '<svg id="timelineimage">';
                    res += '<line class="timeline_line_svg" x1="'+mid_x+'" y1="0" x2="'+mid_x+'" y2="'+_calc_height+'" />';
                    for (var i=0;i<_pos[0].length;i++) {                    
                        res+='<path class="timeline_attach_svg" d="M'+(mid_x-10)+' '+_pos[0][i]+' L'+(mid_x-H_GAP)+' '+(_pos[0][i]-V_GAP)+' L '+(mid_x-H_GAP)+' '+(_pos[0][i]+V_GAP)+' Z"/>';
                        res+='<circle class="timeline_dot_svg" cx="'+mid_x+'" cy="'+_pos[0][i]+'" r="8" stroke="black" stroke-width="3" />';
                    }
                    for (var i=0;i<_pos[1].length;i++) {                    
                        res+='<path class="timeline_attach_svg" d="M'+(mid_x+10)+' '+_pos[1][i]+' L'+(mid_x+H_GAP)+' '+(_pos[1][i]-V_GAP)+' L '+(mid_x+H_GAP)+' '+(_pos[1][i]+V_GAP)+' Z"/>';
                        res+='<circle class="timeline_dot_svg" cx="'+mid_x+'" cy="'+_pos[1][i]+'" r="8" stroke-width="3" />';
                    }

                    res += '</svg>';
                    $(".timeline_line").html(res);                                                    
                }
                
                function setHeight() {
                    _calc_height = Math.max(_status[0],_status[1])-_tlc_top;
                    $(container).css('height',_calc_height);                    
                }
                
                this.layout = function() {
                    const ww = $(container).width();
                    if (ww>=SWITCH_TO_ONE_COL) {
                        precalculateTwoCols();
                        doLayoutTwoCols();
                    } else {
                        precalculateOneCol();                        
                        doLayoutOneCol();
                    }
                    setHeight();
                    createTimeLine();
                }
                
                
            }
            
                        
/*            var timeline = new Timeline("#toplevelcontainer");

            $(window).resize(function () {
                timeline.layout();
            });

            $(window).load(function () {
                timeline.layout();
                timeline.layout();
            });
*/